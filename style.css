<script>
    const loginPage = document.getElementById('login-page');
    const profilePage = document.getElementById('profile-page');
    const calendarPage = document.getElementById('calendar-page');
    const emailInput = document.getElementById('email');
    const passwordInput = document.getElementById('password');
    const loginButton = document.getElementById('login-button');
    const managePermissionsButton = document.getElementById('manage-permissions-button');
    const backToProfileButton = document.getElementById('back-to-profile-button');

    // Variables para el movimiento del contenedor
    const containerRef = loginPage; // Se puede cambiar dinámicamente si es necesario
    let mouseX = 0, mouseY = 0;
    let targetX = 0, targetY = 0;

    // Inicializar movimiento paralaje
    function initParallax(container) {
        if (!container) return;

        container.style.transform = 'translate(0px, 0px)';
        container.style.transition = 'none'; // Desactiva transición inicial

        function animate() {
            targetX += (mouseX - targetX) * 0.05;
            targetY += (mouseY - targetY) * 0.05;
            container.style.transform = `translate(${targetX}px, ${targetY}px)`;
            requestAnimationFrame(animate);
        }

        window.addEventListener("mousemove", (e) => {
            const rect = container.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            mouseX = (e.clientX - centerX) * 0.05;
            mouseY = (e.clientY - centerY) * 0.05;
        });

        animate();
    }

    // Mostrar página con efecto paralaje
    function showPage(pageElement) {
        loginPage.style.display = 'none';
        profilePage.style.display = 'none';
        calendarPage.style.display = 'none';
        pageElement.style.display = 'block';

        // Reiniciar posición del contenedor
        if (pageElement === loginPage) initParallax(loginPage);
        else if (pageElement === profilePage) initParallax(profilePage);
        else if (pageElement === calendarPage) initParallax(calendarPage);

        // Si mostramos el calendario, renderizarlo
        if (pageElement === calendarPage) {
            renderCalendar(currentDate);
        }
    }

    // Datos del calendario
    const currentDate = new Date();
    const chileanHolidays = [
        { month: 0, day: 1, name: "Año Nuevo" },
        { month: 3, day: 18, name: "Viernes Santo" },
        { month: 3, day: 19, name: "Sábado Santo" },
        { month: 4, day: 1, name: "Día del Trabajador" },
        { month: 4, day: 21, name: "Día de las Glorias Navales" },
        { month: 5,
